/* Generated by RuntimeBrowser
   Image: /System/Library/PrivateFrameworks/IMDPersistence.framework/IMDPersistence
 */

@interface IMDCoreSpotlightManager : NSObject {
    IMBackpressuredDonationController * _backpressureController;
    NSMutableOrderedSet * _blocklistMessageGUIDs;
}

@property (nonatomic, retain) NSMutableOrderedSet *blocklistMessageGUIDs;

+ (Class)__SLCollaborationHandshakeController;
+ (id)chatAutoDonatingCutomKey;
+ (id)chatAutoDonatingServerDateCustomKey;
+ (id)chatStyleCustomKey;
+ (id)handleToIdentityMapKey;
+ (id)localIdentityKey;
+ (id)localIdentityProofKey;
+ (id)resolvedURLCustomKey;
+ (id)sharedInstance;
+ (id)threadIdentifierCustomKey;

- (void).cxx_destruct;
- (void)_FPProviderIDForItems:(id)arg1;
- (long long)_batchBackpressuredDonationCount;
- (unsigned long long)_batchSizeForTargetBatchSize:(unsigned long long)arg1 lastIndexedRowID:(unsigned long long)arg2 lastBatch:(bool*)arg3;
- (long long)_chatCountForChats:(id)arg1;
- (id)_chatDictionaryForChatAtIndex:(unsigned long long)arg1 withChats:(id)arg2;
- (id)_chatDictionaryForChatGUID:(id)arg1;
- (id)_copyCDInteractionsForMessagesWithLastRowID:(unsigned long long*)arg1 batchSize:(unsigned long long)arg2 timingCollection:(id)arg3 hadResults:(bool*)arg4;
- (id)_copyNewSearchableIndexesForMessagesWithLastRowID:(unsigned long long*)arg1 messageRecordCount:(unsigned long long*)arg2 messagesWithItemsGeneratedCount:(unsigned long long*)arg3 batchSize:(unsigned long long)arg4 timingCollection:(id)arg5 rejectedItems:(id)arg6;
- (void)_donateInteractions:(id)arg1;
- (id)_donationManager;
- (void)_enumerateSearchableChatItemsForAllChatsWithBlock:(id /* block */)arg1 timingCollection:(id)arg2;
- (void)_indexSearchableChatItems:(id)arg1 withReason:(long long)arg2 index:(id)arg3 blocking:(bool)arg4;
- (void)_indexSearchableItems:(id)arg1 rejectedItems:(id)arg2 clientState:(id)arg3 lastIndexedRowID:(unsigned long long)arg4 messagesInBatch:(unsigned long long)arg5 messagesWithItemsGeneratedCount:(unsigned long long)arg6 batchSize:(unsigned long long)arg7 lastBatch:(bool)arg8 withIndex:(id)arg9 reason:(long long)arg10;
- (unsigned long long)_lastDonatedRowID;
- (long long)_maxBackpressureSize;
- (id)_newSearchableChatItemsForChats:(id)arg1;
- (id)_personIdentityQueue;
- (void)_postProcessIndexingForItem:(id)arg1 chatDictionary:(id)arg2 isReindexing:(bool)arg3;
- (void)_resolvedURLForItems:(id)arg1;
- (void)_sanitizeIndexesForCurrentVersionIfNeeded:(id /* block */)arg1;
- (id)_scrutinyMessagesQueue;
- (void)_setLastDonatedRowID:(unsigned long long)arg1;
- (void)_setNeedsDeferredIndexing:(bool)arg1;
- (void)_setNeedsDonation:(bool)arg1;
- (void)_setNeedsIndexing:(bool)arg1;
- (bool)_shouldBypassForTesting;
- (bool)_shouldDonateNextBatchForBatchSize:(unsigned long long)arg1;
- (bool)_shouldIndexNextBatchForBatchSize:(unsigned long long)arg1;
- (bool)_shouldSkipMessagePartPrefixingForItemDictionary:(id)arg1;
- (void)_suspendReindexingDueToError:(id)arg1;
- (void)_updateFilteringForSearchableItem:(id)arg1 chatDictionary:(id)arg2;
- (void)_updateItem:(id)arg1 withFPProviderID:(id)arg2;
- (void)_updateItem:(id)arg1 withIdentityMap:(id)arg2 localIdentity:(id)arg3 localIdentityProof:(id)arg4;
- (void)_updateItem:(id)arg1 withResolvedURL:(id)arg2;
- (void)addChatSearchableItemForChatGUID:(id)arg1 reason:(long long)arg2;
- (id)backpressureController;
- (id)blocklistMessageGUIDs;
- (void)clearMessageGUIDFromScrutiny:(id)arg1;
- (void)deleteAllDonationsForAppDeletionWithCompletion:(id /* block */)arg1;
- (void)deleteAllInteractionsForAppDeletionWithCompletion:(id /* block */)arg1;
- (void)deleteAllSearchableItemsWithReason:(long long)arg1 completionHandler:(id /* block */)arg2;
- (void)deleteChatSearchableItemForChatGUID:(id)arg1 reason:(long long)arg2;
- (void)donateChatDictionary:(id)arg1 withMessageDictionary:(id)arg2;
- (void)donateNextMessageBatchIfNeeded:(unsigned long long)arg1 completion:(id /* block */)arg2;
- (void)indexChatsWithReason:(long long)arg1;
- (void)indexNextMessageBatchIfNeeded:(unsigned long long)arg1 reason:(long long)arg2 completion:(id /* block */)arg3;
- (id)init;
- (long long)maxRowID;
- (id)newCDContactForURI:(id)arg1;
- (id)newCDInteractionForChatDictionary:(id)arg1 messageDictionary:(id)arg2;
- (id)newChatSearchableItemForChatDictionary:(id)arg1 optionalLastMessageDate:(id)arg2;
- (id)newChatSearchableItemForChatDictionary:(id)arg1 optionalLastMessageDate:(id)arg2 error:(id*)arg3;
- (id)newSearchableItemsForMessage:(id)arg1 reindexing:(bool)arg2 rejectedItems:(id)arg3;
- (id)newSearchableItemsForMessageGUID:(id)arg1 reindexing:(bool)arg2 rejectedItems:(id)arg3;
- (id)newSearchableItemsForMessageItemDictionary:(id)arg1 chatDictionary:(id)arg2 reindexing:(bool)arg3 rejectedItems:(id)arg4;
- (void)reIndexWithLocalProofOfInclusionForItemsAsync:(id)arg1;
- (id)searchableIndex;
- (void)setBlocklistMessageGUIDs:(id)arg1;
- (void)setMessageGUIDUnderScrutiny:(id)arg1;
- (void)setNeedsDonateAllMessagesWithReason:(long long)arg1 completion:(id /* block */)arg2;
- (void)setNeedsMessageReindexingWithReason:(long long)arg1 completion:(id /* block */)arg2;
- (long long)totalMessages;

@end
